<meta charset="utf-8"/>
<title>Hand Note</title>
<script>

const maxSound = 5;
const minSound = 0;
const memSize = 250;

const sounds = [

  new Audio("noise/clap.mp3"),
  new Audio("noise/click.mp3"),
  new Audio("noise/crack.mp3"),
  new Audio("noise/punch.mp3"),
  new Audio("noise/scratch.mp3"),
  new Audio("noise/slap.mp3")
];

const registers = {
  
  stackPointers: [];
  memoryPointer: 0;
  //duration: 0,
  volume: 0,
  sound: 0,
  a: 0,
  b: 0,
  
  setSound: (n) => this.sound = n > maxSound ? minSound : n < minSound ? maxSound : n;
  setVolume: (n) => this.volume = (n > 100 ? 100 : n < 0 ? 0 : n) / 100;
  getVolume: () => this.volume * 100;
  
  setMemoryPointer: (n) => this.memoryPointer = n > memSize ? memSize : n < 0 ? 0 : n;
  trySetStackPointer: (i, n) => {
    
    if (i < this.stackPointers.length && n > 0) {
      
      this.stackPointers[i] = n;
      return true
    }
    
    return false;
  };
};

const memory = Array(memSize);
const instructionStack = [];

const glyphs = [
  
  "👋", // play
  //"🤏", // store to duration
  "✋", // end if/repeat
  "👌", // repeat
  "✌", // store to volume
  "🤘", // store to sound type
  "👈", // move + 1
  "👉", // move - 1
  "👆", // increment
  "👇", // decrement
  "👍", // higher than
  "👎", // lower than
  "✊", // store to register a
  "👊", // store to register b
  "🤛", // from register a
  "🤜"  // from register b
];

const parse = (src) => {

  src.forEach(c => {
  
    
  });
}
</script>